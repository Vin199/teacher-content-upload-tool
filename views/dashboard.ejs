<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <style>
        .container {
            width: 302px;
            height: 175px;
            position: absolute;
            left: 0px;
            right: 0px;
            top: 0px;
            bottom: 0px;
            margin: 200px 500px;
        }

        #number,
        #verificationcode {
            width: calc(100% - 24px);
            padding: 10px;
            font-size: 20px;
            margin-bottom: 5px;
            outline: none;
        }

        #recaptcha-container {
            margin-bottom: 5px;
        }

        #send,
        #verify {
            width: 100%;
            height: 40px;
            outline: none;
        }

        #LogoutScreen{
            width: 100%;
            height: 40px;
            outline: none;
        }
    </style>
</head>

<body>
    <div class="container">

        <div id="sender">
            <form action="/assessment" method="post">
                <h3>Create Assessment</h3>
                <input type="submit" value="Submit">
            </form><br><br>

            <form action="/assessment" method="post">
                <h3>Upload Video</h3>
                <input type="submit" value="Submit">
            </form><br><br>

            <form action="/assessment" method="post">
                <h3>Upload Books/Notes</h3>
                <input type="submit" value="Submit">
            </form><br><br>

            <input type="submit" value="Log Out With Google" id="LogoutScreen">
        </div>

        <!-- <div id="sender">
            <form action="/create" method="post">
                <input type="submit" value="Login With Google" id="LoginScreen"><br><br>
                <input type="submit" value="Log Out With Google" id="LogoutScreen">
            </form>
        </div> -->
        <!-- <div id="verifier">
            <h3>Enter The OTP: </h3>
            <input type="text" id="verificationcode" placeholder="OTP Code">
            <br>
            <input type="button" id="verify" value="Verify" onClick="codeverify()">
        </div> -->

        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-analytics.js";
            import { getAuth, /* RecaptchaVerifier, signInWithPhoneNumber, */  signInWithPopup, signOut, onAuthStateChanged, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-auth.js";
            const firebaseConfig = {
                apiKey: "AIzaSyDNFbXQo3Fd7PYfWBwGJd6XdihZ3w-yEvk",
                authDomain: "node-project-c4942.firebaseapp.com",
                databaseURL: "https://node-project-c4942-default-rtdb.firebaseio.com",
                projectId: "node-project-c4942",
                storageBucket: "node-project-c4942.appspot.com",
                messagingSenderId: "581470710657",
                appId: "1:581470710657:web:a4792037ef1d415c375680",
                measurementId: "G-HQZDXNGMJ3"
            };

            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const auth = getAuth()
            const provider = new GoogleAuthProvider();
            document.getElementById("LogoutScreen").addEventListener('click', googleLogOut);

            function googleLogOut() {
                signOut(auth).then(() => {
                    console.log('Signed Out');
                }).then(() => {
                    location.href = '/'
                })
                .catch((error) => {
                    console.error('Sign Out Error', error);
                });
            }

            onAuthStateChanged(auth, (user) => {
                if (user){
                    // User is signed in, see docs for a list of available properties
                    // https://firebase.google.com/docs/reference/js/firebase.User
                    const email = user.email;
                    console.log(email);
                    // ...
                } else {
                    console.log("Signed Out Successfully");
                    // User is signed out
                    // ...
                }
            });
        </script>
    </div>
</body>

</html>